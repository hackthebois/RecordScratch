import '../../../../unstable-core-do-not-import/rpc/codes.mjs';
import { getJsonContentTypeInputs } from '../../../../unstable-core-do-not-import/http/contentType.mjs';
import '../../../../unstable-core-do-not-import/rootConfig.mjs';
import { createNodeHTTPContentTypeHandler } from '../../internals/contentType.mjs';
import { getPostBody } from './getPostBody.mjs';

const nodeHTTPJSONContentTypeHandler = createNodeHTTPContentTypeHandler({
    isMatch (opts) {
        return !!opts.req.headers['content-type']?.startsWith('application/json');
    },
    getBody: getPostBody,
    getInputs: getJsonContentTypeInputs
});

export { nodeHTTPJSONContentTypeHandler };
